\chapter{研究现状}

DTN为了实现这些异构挑战性网络间的互操作以及消息的可靠传输，引入了捆绑层（bundle layer）并采用了保管传递（custody transfer）和存储-携带-转发（store-carry-forward）机制。DTN作为未来互联网络发展的一个新方向，在环境监测、交通管理、水下探测和发展中国家偏远地区网络基础建设具有广泛的应用前景和实用价值。DTN主干网（DTNBone）是DTN的实现之一，正如已经投入使用的多播主干网(MBone)一样，DTNBone的主要目的是建立一个世界范围的运行DTN协议的主机集合，又叫节点集，研究者可以依此开展有关DTN的各种研究。目前搭建DTNBone 使用的主要协议集有DTN2, ION, LTPlib, Spindle3, IBR-DTN等。为了从应用层的角度来研究DTN,研究者们在现有的DTN协议栈的基础上实现了几项有关应用，如Ohio University Simple Bundle Protocol API，DTN Tic Tac Toe Application，DTN新闻应用以及 DTN摄像机。

DTN的路由方面的研究越来越受到国内外学者的重视，主要可以分为单播路由及多播路由两类，迄今大部分的研究成果主要集中在单播路由上，多播路由近几年逐渐被研究者所重视。单播路由可以分为复制策略（naive replication strategy），转发策略(utility based forwarding strategy), 混合策略(hybrid strategy), 基础设施辅助策略（ infrastructure assistance strategy）以及编码策略（coding based strategy）五种；多播路由主要可以分为基于域内（intra-domain）的多播路由和基于域间（inter-domain）的多播路由。

\section{单播路由}
\subsection{复制策略}
复制策略的特点是节点在向中继节点进行消息复制时，不考虑中继节点的选择问题。常见的方法主要有洪泛（flooding）以及受控洪泛(controlled flooding)。著名的传染病（Epidemic）路由算法\cite{Vahdat2000}是基于洪泛的一个代表性算法，该算法模仿生物环境中传染性病毒的传播方式，体现在DTN中，每个节点维护一个消息总结向量，当两个节点能够连接时通过交换消息向量来彼此交换缺少的消息。然而过度冗余的消息副本会带来网络拥塞，从而增大时延和丢包率。文献\cite{Grossglauser2002}提出的Direct Delivery(DD)算法则可被视为是基于洪泛的另一个极端情况，该算法同样不考虑中继节点的选择——不向任何中继节点复制消息，每个节点只将消息直接传递给目的节点，故具有很低的投递率，只作为研究路由算法的一种参考。文献\cite{Grossglauser2002}还提出了一种两跳中继多次复制(Two-Hop-Relay)的路由策略，源节点将消息复制给与其关联的T个邻居节点，这些邻居节点不再进行复制操作，而是将这些消息直接传输至与之有关联的目的节点。文献\cite{Spyropoulos2005}提出了Spray and Wait算法，源节点持有T份拷贝，并向遇到的节点分发所持有的拷贝，若节点持有的拷贝数量大于1，则继续进行分发，当节点只持有消息的一个拷贝时，采用DD算法将消息传输到目的节点。文献\cite{Spyropoulos2007a}给出了一种特殊的“Spray”方法，每次分发一半的拷贝给第一个遇到的节点，使整个Spray阶段呈二叉树状，当节点移动独立同分布时，其期望时延最优。

\subsection{转发策略}

单纯使用转发策略的路由，往往也称为单副本路由，是根据网络的拓扑知识来指定一个或几个用于衡量节点作为中继转发某消息的合适程度或链路的传输时延等的效用指标，制定效用指标的目的，往往是为了在选路过程中优化某一个或者某几个目标。单副本转发策略必须确保据此所选出的中继节点能够比源节点更好的胜任消息投递工作，如果可以设定出能够准确描述节点属性的效用指标，则可以保证在网络中只有一个消息的副本在传输时达到一个较为理想的投递率，保证可靠传输。目前除了星际网络之外，很少有能够预测节点移动以及网络拓扑变化，这给指定精确效用指标带来了困难。文献\cite{Jain2004}提出的适用于星际网络的路由算法是该策略的典型代表，它将容迟网络建模为有向多重图，将网络的动态拓扑信息抽象为知识ORACLE集。以知识ORACLE作为路由问题的输入，研究路由算法性能与ORACLE间的关系。ORACLE分为接触总结、接触、排队和流量需求四种类型，根据所需ORACLE的不同，文献\cite{Jain2004}提出了FC、MED、ED、EDLQ、EDAQ和LP共六个算法。其中FC算法最简单，基于零知识输入，以时间作为效用指标，每个节点选择与自己接触最早的节点进行转发。其它五个算法的效用指标都是基于链路状态时延而指定的，根据能够利用的ORACLE知识的多少，效用指标的准确程度也不同，MED算法基于网络中的节点接触总结，采用Dijkstra算法求解最优路由，由于节点接触总结信息是固定的，故该算法不是一个自适应路由算法，从这种意义上讲，若网络情况稍有变化，则效用指标就不再能准确反映网络情况。ED算法则根据网络中所有节点的接触信息采用改进的Dijkstra算法求解最优路由。而EDLQ和EDAQ路由算法则是在ED算法的基础上分别引入局部节点缓存队列和全局缓存队列信息，进一步优化性能。而LP路由算法则进一步的引入了流量需求，将最优路径转化为一个线性规划问题进行求解，然而这种方法可行性不足，主要作为研究参考。文献\cite{Guo2013}提出的PASR(Prediction Assisted Single-copy Routing)收集并维护在较短时间内获取的网络连接信息，然后使用一个离线的贪心算法求解出底层网络移动性的有关特点，描述出最优路径所具有的特点并依此给出一个有效利用历史信息的导引方法，PASR根据此方法，利用一个在线算法来计算路由。为了取得较好的网络性能通常需要全局或者部分总结的拓扑信息，而这些信息在大部分强调节点随机移动性容迟网络中往往不可能预先获知，这就要求网络中节点按需(on-demand)获取网络拓扑，,目前常用的方法是依靠一个链路状态协议（link state protocol）进行拓扑知识分发。文献\cite{Jones2007}提出的MEED算法即是如此，其进行路由所需要的全局链路拓扑信息单独由一个链路状态协议维持。MEED在MED算法之上做了改进，MED算法假设网络中的拓扑知识集能够获得，然而在实际的情况中可行性不大。MEED基于滑动窗口对链路的期望时延进行评估，文献\cite{Jones2007}还提出了一种与源路由和按需路由不同的一种路由策略，即逐跳路由（per-hop routing），利用该策略能够更好的利用最近所出现的可用链路。

\subsection{混合策略}

与基于复制策略的路由算法以及只利用单拷贝转发策略的路由算法相比，混合策略的路由算法更为灵活，既利用了复制策略多副本的并行性，又优化选择了较为合适的中继节点。文献\cite{Spyropoulos2007a}提出的Spray \& Focus算法是一种典型的混合策略路由算法，在Focus阶段，算法实行聚焦搜索，有选择的进行副本的转发投递。文献\cite{Erramilli2008}提出的授权转发(delegation forwarding/DF)，将DTN中路由问题转化为停止问题（stopping problem）进行研究，其基本策略是对节点定义效用函数，用以描述节点对于转发某消息的合适程度，每当进行一次复制操作后，两个节点都将更新自己的效用函数，从而使今后选择转发节点的指标越来越严格，有效的控制了副本的数量。该文献证明了，采用授权转发协议产生的副本数量可由$O(n)$降低到$O(\sqrt{n})$。文献\cite{Liu:2009uy}提出的OOF(Optimal Opportunistic Forwarding)算法结合了跳数和副本存活时间来定义了副本的投递概率，并利用最优停止理论递推的对投递概率进行计算，获得期望上的最优投递率。由于OOF算法中，其需要维护的投递概率表是四维的，计算及更新起来具有较大的开销，为了解决此问题，文献\cite{Liu:2009uy}还提出了OOF—算法，即不再考虑副本存活时间，从而使概率表降低一维，模拟实验表明其表现只略微弱于OOF算法。文献\cite{Burns:2005gi}提出的MV(Meetings and Visits)则利用节点间的相遇概率来描述消息传输的成功概率，任意两个节点间的相遇概率作为这对节点的传输概率，在此基础上通过递归的方式计算多跳传输的成功概率。两个节点相遇时，交换各自的消息以及传输概率信息，通过比较，节点仅向传输概率更高的中继节点复制消息。文献\cite{El-Azouzi2013}将进化策略（Evolutionary Games）用于非合作性的受控转发(controlled-forwarding)中，在这种方法中，节点可以选择不同的策略来作为中继节点参与转发，引入效用函数来权衡期望收益和能量消耗，文献\cite{El-Azouzi2013}证明了该方法可以以一种非集中式的方式进行，故适用于容迟网络选路。


\subsection{基础设施辅助策略}
基础设施辅助策略路由算法采用特殊的移动节点来负责容迟网络中节点间的消息寻路和传输，这些特殊节点通常称之为消息渡船（message ferry）和数据骡子（data mule）。这些节点通过控制自己的移动行为，按照一定的移动路线在网络相互割裂的区域进行移动，以“存储-携带-转发”（store-carry-forward）的方式辅助进行网络的消息转发，提高消息投递率。文献\cite{Zhao2004}提出的MF（Message Ferry）算法是基于拓扑知识策略的典型代表，该算法通过引入一个称为消息渡船的特殊移动节点并通过规划该节点的移动路线，协助区域间的消息传输。作为MF的扩展，文献\cite{Zhao2005}提出了四种方法，考虑了引入多个消息渡船的网络，以满足流量需求且传输延迟最小为优化目标，计算出消息渡船的最优移动路线，这四种方法分别为单路由算法（SIngle Route Algorithm/SIRA），多路由算法（MUlti Route Algorithm/MURA），节点中继算法（Node Relaying Algorithm/NRA）以及渡船中继算法(Ferry Relaying Algorithm/FRA)。文献\cite{Zhao2005}还从另一个角度审视了其所提出的MF算法， 所改进的方法是不引入任何受控辅助接点来引渡消息，其所需要的渡船节点是由网络中原有节点选举产生的。文献\cite{Zhang:2007bq}基于旅行商问题（Travel Salesman Problem/TSP）提出了另外一种渡船算法，其核心主要侧重于设计引渡节点路由，从而平衡消息传递率以及节点有限的缓存资源。文献\cite{Banerjee:2007hm}所利用的投掷盒（Throwbox）是一种低成本，电池驱动的短程小存储量设备，由于其易于部署，故很适合用作引渡节点。当两个不同的节点都经过投掷盒所覆盖的范围时，先到达的节点可以把消息缓存在其中，以便将该消息传输到后到达的节点，这实际上也是一种保管传输策略。辅助节点的部署问题也是一个难点，文献\cite{He:2010ks}提出的一种方法，其将传输时延和副本数目纳入考虑之中，结合效用函数利用贪心法选择位置来进行辅助节点部署，该算法具有二次多项式的时间复杂度。


\subsection{编码策略}
编码策略实质上是对DTN间歇连接特性予以补偿的一种机制，其并非是一种路由策略，但可以和其它常用路由策略混合以提高投递率。常见的编码策略有网络编码和擦除码，前者允许中继节点对消息进行编码，而后者只允许源节点对消息进行编码。文献\cite{Wang:2005ka}使用了擦除码和复制策略来进行路由，在简单的复制策略中，消息会从源节点传给r个中继节点，而使用纠删码后，会产生kr个同等大小的编码块，并将复制给kr个中继节点，与普通的复制路由策略相比，加入了擦出码策略的方法采用了更多的中继节点，只要这些中继节点中有多于k个节点具有更小的延迟，则其表现就超过只用普通的复制策略的路由，其本质即是在消息所需总带宽不变的情况下增加其之间的并行性。文献\cite{Jain2005}使用网络编码结合概率算法进行路由，当消息到达中继节点时，会被中继节点与其它接受到的消息混合进行线性编码产生一个新的消息，目标节点收到消息时再进行解码，从而减少消息传输的次数，提高消息分发概率。


\section{多播路由}
多播路由可以分为基于域内（intra-domain）的多播路由和基于域间（inter-domain）的多播路由。文献\cite{Zhao2005a}是域内多播协议的典型代表，首先定义了三种多播语义模型，进而提出了五种路由算法：分别是基于静态树多播路由（static tree-based routing，简称STBR），基于动态树的多播路由（dynamic tree-based routing,简称DTBR），基于转发组的路由（GBR）、基于广播的多播路由（BBR）和基于单播的多播路由（UBR），并研究这些路由算法随着组成员知识ORACLE的不同而产生的性能变化。DTBR算法通常需要全局的拓扑知识来构建一个动态多播树，并且树中每个中间节点的多播成员接收列表由其上游节点决定，这一特点决定了DTBR算法不能很好地利用现有新出现的消息投递机会。为了克服这一缺点，文献\cite{Ye2006}提出了OS-Multicast算法，该算法是一种基于动态树的按需式情形感知多播路由算法，动态树的每个中间节点维护一个所有多播成员的接受列表，以更好的利用最新出现的投递机会，但代价是网络中会有多余的多播消息副本在传输。文献\cite{Chuah2009}提出了CAMR（Context Aware Multicast Routing）算法，该算法是一种基于节点密度的自适应多播路由算法。该算法试图通过获得一些额外的网络知识例如节点的速度和位置以获取更好的网络性能，同时该算法综合利用了节点的高发射功率和消息渡船机制以取得更高的消息投递率。文献\cite{Wang:2012up}提出了一种基于动态多播树非复制策略的多播路由算法，该算法提出了比较-分割原则（compare and split）并同时利用节点的活动率水平（active rate level）和接触率水平（contact rate level）来指导动态多播树的构建。文献\cite{Gao:2009wf}第一次提出基于社会网络（social network）的相关技术来研究容迟网络中的多播问题，该文献利用社会网络中的两个关键概念：社区（Communities）和聚集性（Centrality）计算DTN多播过程中的中继节点选择问题，并最终将该问题统一为常见的背包问题（knapsack problem）。基于域间的多播路由算法通常在每个DTN区域选择一个称为域首（domain leader）的节点来负责此区域多播消息的汇总和分发，这样整个DTN区域可划分为两层：域首层和域层。多播过程分为三步：（1）源节点将消息通过域内多播协议发送至源区域所在的域首，（2）源域首经过域间多播协议将消息传送至多播接收成员所在的各个区域的域首 （3）各个接收节点域首再经过域内多播协议传送至多播目的节点。文献\cite{Ye:2007cf}所提出的SHIM(scalable hierarchical inter-domain multicast)算法和文献\cite{Yang:2008hn}所提出的FBIMR(ferry-based inter-domain multicast routing)算法是典型的域间多播路由算法。
除了上述所提的路由算法外，还有不少与路由直接或间接相关的研究成果，例如芬兰赫尔辛基理工大学开发的the ONE(Opportunistic NEtwork Simulator)模拟器\cite{Keranen2009},该模拟器用于对DTN中的路由算法性能进行仿真、模拟和验证。文献\cite{Talipov2013}以智能手机系统为基础，利用存储-携带-转发方法，设计了基于bundle协议的信息分享的方法，该方法有效的降低了CPU以及电池的负载。

通过对容迟网络路由算法相关的文献，特别是近几年来的主要研究成果进行了总结发现：（1）复制策略可以增大消息的并行性和传递可靠性，有效的受控洪泛能够大大改善挑战性网络中的路由表现。（2）目前部分路由算法中所采用的节点移动模型过于理想化，节点的移动模式单一，缺乏实用性。（3）目前路由协议主要致力于优化投递率及传输实验，然而在一些特殊环境中，能量及缓存是更大的限制，应当为此单独设计算法优化（4）目前的路由协议缺乏多项评估指标的综合考虑，往往在个别指标上性能优越，但无法优化多项指标，网络整体性能难以获得极大的提升。因此需要利用新的分析工具研究容迟网络路由，同时考虑多个设计目标进行优化,建立基于多目标优化的高效路由协议.例如,以节点能量消耗、时延、传输率为目标,进行多目标决策,设计出最优路由协议。（5）国内目前仍然处于跟踪研究的初始阶段，急需在这一领域展开必要的研究并取得实质性的成果。鉴于以上总结，目前亟需设计基于多策略的容迟网络路由算法研究，以克服目前容迟网络路由算法研究中所存在的局限性。 
